{"version":3,"sources":["webpack:///main.js","webpack:///./~/art-template/lib/runtime.js","webpack:///(webpack)/buildin/global.js","webpack:///./source/index.js","webpack:///./source/views/include.html","webpack:///./source/views/list.html","webpack:///./~/art-template/lib/compile/runtime.js","webpack:///./~/detect-node/index.js","webpack:///./source/dateFormat.js","webpack:///./source/helper.js"],"names":["webpackJsonp","module","exports","__webpack_require__","g","_typeof","Symbol","iterator","obj","constructor","prototype","this","Function","eval","e","window","__webpack_exports__","Object","defineProperty","value","tem","setTimeout","then","bind","extend","console","log","data","combined","default","users","name","email","birthday","Date","admin","html","document","body","innerHTML","$imports","$data","$$out","$escape","arguments","length","$each","$value","$index","dateFormat","global","detectNode","runtime","create","toString","undefined","call","JSON","stringify","ESCAPE_REG","xmlEscape","content","regexResult","exec","result","i","lastIndex","char","index","charCodeAt","substring","escape","each","callback","Array","isArray","len","_i","process","functionsMap","M","date","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","q","Math","floor","S","getMilliseconds","formatReg","format","mts","match","parseInt","toUTCString","replace","all","t","v","slice","getFullYear","__WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime__","__WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime___default","n","__WEBPACK_IMPORTED_MODULE_1__dateFormat__","a"],"mappings":"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","file":"main.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(5);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n// the 'tem' will be a render function, not a template source string.\n// let tem = require('./views/extend.html');\n__webpack_require__(8);\n// import runtime from './helper';\n\nvar tem = __webpack_require__(3);\n\n// this import() function is an async 'require' way in webpack 2.\n// we can specify the chunk name by a 'magic comment'\nsetTimeout(function () {\n    __webpack_require__.e/* import() */(0).then(__webpack_require__.bind(null, 10)).then(function (extend) {\n        console.log(data, extend(data));\n    });\n    __webpack_require__.e/* import() */(1).then(__webpack_require__.bind(null, 11)).then(function (combined) {\n        console.log(combined, combined.default);\n    });\n}, 1000);\n\nvar data = {\n    users: [{\n        name: 'xlee',\n        email: 'xxxjs@email.com',\n        birthday: new Date()\n    }, {\n        name: 'breeco',\n        email: 'breeco@gmail.com',\n        birthday: new Date(2000, 11, 22)\n    }],\n    admin: false\n};\n\nvar html = tem(data);\n\nconsole.log(html);\ndocument.body.innerHTML = html;\n/* harmony default export */ __webpack_exports__[\"default\"] = (tem);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $imports = __webpack_require__(0);\nmodule.exports = function ($data) {\n    'use strict';\n    $data = $data || {};\n    var $$out = '', admin = $data.admin, users = $data.users, $escape = $imports.$escape, $$blocks = arguments[1] || {};\n    $$out += 'this page is here for ready to be included. ';\n    if (admin) {\n        $$out += ' Welcome, administrator! ';\n    } else if (users) {\n        $$out += ' Welcome, ';\n        $$out += $escape(users.length);\n        $$out += ' ';\n    }\n    $$out += ' ';\n    $$out += __webpack_require__(4)($data);\n    return $$out;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $imports = __webpack_require__(0);\nmodule.exports = function ($data) {\n    'use strict';\n    $data = $data || {};\n    var $$out = '', $each = $imports.$each, users = $data.users, $value = $data.$value, $index = $data.$index, $escape = $imports.$escape;\n    $$out += 'list for example:<ul> ';\n    $each(users, function ($value, $index) {\n        $$out += ' <li>';\n        $$out += $escape($value.name);\n        $$out += ':';\n        $$out += $escape($value.email);\n        $$out += '. born at ';\n        $$out += $escape($imports.dateFormat($value.birthday, 'yyyyMMdd'));\n        $$out += '</li> ';\n    });\n    $$out += ' </ul>';\n    return $$out;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n/*! art-template@runtime | https://github.com/aui/art-template */\n\nvar detectNode = __webpack_require__(6);\nvar runtime = Object.create(detectNode ? global : window);\n\n// 将目标转成字符\nvar toString = function toString(value) {\n    if (typeof value !== 'string') {\n        if (value === undefined || value === null) {\n            value = '';\n        } else if (typeof value === 'function') {\n            value = toString(value.call(value));\n        } else {\n            value = JSON.stringify(value);\n        }\n    }\n\n    return value;\n};\n\n// 编码 HTML 内容\nvar ESCAPE_REG = /[\"&'<>]/;\nvar xmlEscape = function xmlEscape(content) {\n    var html = '' + content;\n    var regexResult = ESCAPE_REG.exec(html);\n    if (!regexResult) {\n        return content;\n    }\n\n    var result = '';\n    var i = void 0,\n        lastIndex = void 0,\n        char = void 0;\n    for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n\n        switch (html.charCodeAt(i)) {\n            case 34:\n                char = '&#34;';\n                break;\n            case 38:\n                char = '&#38;';\n                break;\n            case 39:\n                char = '&#39;';\n                break;\n            case 60:\n                char = '&#60;';\n                break;\n            case 62:\n                char = '&#62;';\n                break;\n            default:\n                continue;\n        }\n\n        if (lastIndex !== i) {\n            result += html.substring(lastIndex, i);\n        }\n\n        lastIndex = i + 1;\n        result += char;\n    }\n\n    if (lastIndex !== i) {\n        return result + html.substring(lastIndex, i);\n    } else {\n        return result;\n    }\n};\n\n/**\n * 编码模板输出的内容\n * @param  {any}        content\n * @return {string}\n */\nvar escape = function escape(content) {\n    return xmlEscape(toString(content));\n};\n\n/**\n * 迭代器，支持数组与对象\n * @param {array|Object} data \n * @param {function}     callback \n */\nvar each = function each(data, callback) {\n    if (Array.isArray(data)) {\n        for (var i = 0, len = data.length; i < len; i++) {\n            callback(data[i], i, data);\n        }\n    } else {\n        for (var _i in data) {\n            callback(data[_i], _i);\n        }\n    }\n};\n\nruntime.$each = each;\nruntime.$escape = escape;\n\nmodule.exports = runtime;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {module.exports = false;\n\n// Only Node.JS has a process variable that is of [[Class]] process\ntry {\n  module.exports = Object.prototype.toString.call(global.process) === '[object process]';\n} catch (e) {}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar functionsMap = {\n    \"M\": function M(date) {\n        return date.getMonth() + 1;\n    }, //月份\n    \"d\": function d(date) {\n        return date.getDate();\n    }, //日\n    \"h\": function h(date) {\n        return date.getHours();\n    }, //小时\n    \"m\": function m(date) {\n        return date.getMinutes();\n    }, //分\n    \"s\": function s(date) {\n        return date.getSeconds();\n    }, //秒\n    \"q\": function q(date) {\n        return Math.floor((date.getMonth() + 3) / 3);\n    }, //季度\n    \"S\": function S(date) {\n        return date.getMilliseconds();\n    } //毫秒\n};\nvar formatReg = /([yMdhmsqS])\\1*/g;\nvar dateFormat = function dateFormat(date, format) {\n    // console.log(date, format);\n    if (typeof date === \"string\") {\n        var mts = date.match(/(\\/Date\\((\\d+)\\)\\/)/);\n        if (mts && mts.length >= 3) {\n            date = parseInt(mts[2]);\n        }\n    }\n    date = new Date(date);\n    if (!date || date.toUTCString() == \"Invalid Date\") {\n        return \"\";\n    }\n\n    return format.replace(formatReg, function (all, t) {\n        var v = functionsMap[t];\n        // console.log(v, all, t);\n        if (v !== undefined) {\n            v = v(date);\n            if (all.length > 1) {\n                v = '0' + v;\n                v = v.slice(-2);\n            }\n            return v;\n        } else if (t === 'y') {\n            return (date.getFullYear() + '').slice(-4);\n        }\n        return all;\n    });\n\n    // return format;\n};\n\n// module.exports = dateFormat;\n/* harmony default export */ __webpack_exports__[\"a\"] = (dateFormat);\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dateFormat__ = __webpack_require__(7);\n// const runtime = require('art-template/lib/runtime');\n\n// if the target module is exported by CommonJS Module, here we can use `require` or import x from xx\n// let dateFormat = require('./dateFormat');\n\n// but if the target module is exported by es6's `export`, best use `import` here\n// if you have to use `require` , you must call it's 'default' property to get the actual module. For example:\n// let dateFormat = require('./dateFormat').default;\n// so, es6 module is the standard and best way.\nconsole.log(__WEBPACK_IMPORTED_MODULE_1__dateFormat__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime___default.a.dateFormat = __WEBPACK_IMPORTED_MODULE_1__dateFormat__[\"a\" /* default */];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0_art_template_lib_runtime___default.a);\n// module.exports = runtime;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(2);\n\n\n/***/ })\n],[9]);\n\n\n// WEBPACK FOOTER //\n// main.js","'use strict';\n\nmodule.exports = require('./compile/runtime');\n\n\n// WEBPACK FOOTER //\n// ./~/art-template/lib/runtime.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","// the 'tem' will be a render function, not a template source string.\r\n// let tem = require('./views/extend.html');\r\nrequire('./helper');\r\n// import runtime from './helper';\r\n\r\nlet tem = require('./views/include.html');\r\n\r\n// this import() function is an async 'require' way in webpack 2.\r\n// we can specify the chunk name by a 'magic comment'\r\nsetTimeout(() => {\r\n    import(/* webpackChunkName: \"r_extend\" */ './views/extend.html').then(function (extend) {\r\n        console.log(data, extend(data));\r\n    });\r\n    import('./combine').then(function (combined) {\r\n        console.log(combined, combined.default);\r\n    })\r\n}, 1000)\r\n\r\nlet data = {\r\n    users: [{\r\n        name: 'xlee',\r\n        email: 'xxxjs@email.com',\r\n        birthday: new Date()\r\n    },{\r\n        name: 'breeco',\r\n        email: 'breeco@gmail.com',\r\n        birthday: new Date(2000, 11, 22)\r\n    }],\r\n    admin: false\r\n}\r\n\r\nlet html = tem(data);\r\n\r\nconsole.log(html);\r\ndocument.body.innerHTML = html;\r\nexport default tem;\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","this page is here for ready to be included. {{if admin}} Welcome, administrator! {{else if users}} Welcome, {{users.length}} {{/if}} {{include './list.html'}}\n\n\n// WEBPACK FOOTER //\n// ./source/views/include.html","list for example:<ul> {{each users}} <li>{{$value.name}}:{{$value.email}}. born at {{$value.birthday | dateFormat:'yyyyMMdd'}}</li> {{/each}} </ul>\n\n\n// WEBPACK FOOTER //\n// ./source/views/list.html","'use strict';\n\n/*! art-template@runtime | https://github.com/aui/art-template */\n\nvar detectNode = require('detect-node');\nvar runtime = Object.create(detectNode ? global : window);\n\n// 将目标转成字符\nvar toString = function toString(value) {\n    if (typeof value !== 'string') {\n        if (value === undefined || value === null) {\n            value = '';\n        } else if (typeof value === 'function') {\n            value = toString(value.call(value));\n        } else {\n            value = JSON.stringify(value);\n        }\n    }\n\n    return value;\n};\n\n// 编码 HTML 内容\nvar ESCAPE_REG = /[\"&'<>]/;\nvar xmlEscape = function xmlEscape(content) {\n    var html = '' + content;\n    var regexResult = ESCAPE_REG.exec(html);\n    if (!regexResult) {\n        return content;\n    }\n\n    var result = '';\n    var i = void 0,\n        lastIndex = void 0,\n        char = void 0;\n    for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n\n        switch (html.charCodeAt(i)) {\n            case 34:\n                char = '&#34;';\n                break;\n            case 38:\n                char = '&#38;';\n                break;\n            case 39:\n                char = '&#39;';\n                break;\n            case 60:\n                char = '&#60;';\n                break;\n            case 62:\n                char = '&#62;';\n                break;\n            default:\n                continue;\n        }\n\n        if (lastIndex !== i) {\n            result += html.substring(lastIndex, i);\n        }\n\n        lastIndex = i + 1;\n        result += char;\n    }\n\n    if (lastIndex !== i) {\n        return result + html.substring(lastIndex, i);\n    } else {\n        return result;\n    }\n};\n\n/**\n * 编码模板输出的内容\n * @param  {any}        content\n * @return {string}\n */\nvar escape = function escape(content) {\n    return xmlEscape(toString(content));\n};\n\n/**\n * 迭代器，支持数组与对象\n * @param {array|Object} data \n * @param {function}     callback \n */\nvar each = function each(data, callback) {\n    if (Array.isArray(data)) {\n        for (var i = 0, len = data.length; i < len; i++) {\n            callback(data[i], i, data);\n        }\n    } else {\n        for (var _i in data) {\n            callback(data[_i], _i);\n        }\n    }\n};\n\nruntime.$each = each;\nruntime.$escape = escape;\n\nmodule.exports = runtime;\n\n\n// WEBPACK FOOTER //\n// ./~/art-template/lib/compile/runtime.js","module.exports = false;\n\n// Only Node.JS has a process variable that is of [[Class]] process\ntry {\n module.exports = Object.prototype.toString.call(global.process) === '[object process]' \n} catch(e) {}\n\n\n\n// WEBPACK FOOTER //\n// ./~/detect-node/index.js","let functionsMap = {\r\n    \"M\": date => (date.getMonth() + 1), //月份\r\n    \"d\": date => (date.getDate()), //日\r\n    \"h\": date => (date.getHours()), //小时\r\n    \"m\": date => (date.getMinutes()), //分\r\n    \"s\": date => (date.getSeconds()), //秒\r\n    \"q\": date => (Math.floor((date.getMonth() + 3) / 3)), //季度\r\n    \"S\": date => (date.getMilliseconds()) //毫秒\r\n}\r\nlet formatReg = /([yMdhmsqS])\\1*/g;\r\nlet dateFormat =  function (date, format) {\r\n    // console.log(date, format);\r\n    if (typeof date === \"string\") {\r\n        var mts = date.match(/(\\/Date\\((\\d+)\\)\\/)/);\r\n        if (mts && mts.length >= 3) {\r\n            date = parseInt(mts[2]);\r\n        }\r\n    }\r\n    date = new Date(date);\r\n    if (!date || date.toUTCString() == \"Invalid Date\") {\r\n        return \"\";\r\n    }\r\n\r\n\r\n    return format.replace(formatReg, function(all, t){\r\n        var v = functionsMap[t];\r\n        // console.log(v, all, t);\r\n        if(v !== undefined){\r\n            v = v(date);\r\n            if(all.length > 1){\r\n                v = '0' + v;\r\n                v = v.slice(-2);\r\n            }\r\n            return v;\r\n        }\r\n        else if(t === 'y'){\r\n            return (date.getFullYear() + '').slice(-4);\r\n        }\r\n        return all;\r\n    });\r\n    \r\n    // return format;\r\n};\r\n\r\n// module.exports = dateFormat;\r\nexport default dateFormat;\n\n\n// WEBPACK FOOTER //\n// ./source/dateFormat.js","// const runtime = require('art-template/lib/runtime');\r\nimport runtime from 'art-template/lib/runtime';\r\n// if the target module is exported by CommonJS Module, here we can use `require` or import x from xx\r\n// let dateFormat = require('./dateFormat');\r\nimport dateFormat from './dateFormat';\r\n// but if the target module is exported by es6's `export`, best use `import` here\r\n// if you have to use `require` , you must call it's 'default' property to get the actual module. For example:\r\n// let dateFormat = require('./dateFormat').default;\r\n// so, es6 module is the standard and best way.\r\nconsole.log(dateFormat);\r\nruntime.dateFormat = dateFormat\r\n\r\nexport default runtime;\r\n// module.exports = runtime;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/helper.js"],"sourceRoot":""}